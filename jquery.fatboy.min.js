/* fatBoy v0.5.0 https://github.com/webadvanced/jquery-infinite-scroll-lazy-loading-FatBoy/blob/master/LICENSE */
(function(a,l,k,d){if(a===d)throw"jQuery is required. Please make sure you include a reference to jQuery and that this script is included below it.";var c="fatBoy",i="myFatBoy",e={limit:3,threshold:25,triggerEvent:"fatboy:eat",uiEvent:"scroll",atBottom:d,atLimit:d,limitReachedEvent:"fatboy:diet",toggleProcessingEvent:"fatboy:eating",ajaxOptions:d,beforeAjax:d},f,g,h=a(l),j=a(k);f=function(a){return h.scrollTop()+a>=j.height()-h.height()};g=function(){if(this.canProcess&&f(this.options.threshold)&&(this.hasNoLimit||this.count<=this.options.limit)){this.$el.trigger(this.options.toggleProcessingEvent);this.takeAction();this.count++;this.options.threshold+=10;this.options.limit!==0&&this.count>=this.options.limit&&this.diet()}};function b(d,b){this.el=d;this.$el=a(d);this.options=b?a.extend({},e,b):e;this._name=c;this.count=0;this.canProcess=true;this.hasNoLimit=this.options.limit===0;if(this.options.ajaxOptions){this.options.ajaxOptions.success=a.proxy(this.eat,this);this.takeAction=this.bake}else this.takeAction=this.eat;this.init();return this}b.fn=b.prototype;b.defaults=e;b.fn.init=function(){this.$el.bind(this.options.uiEvent,a.proxy(g,this)).bind(this.options.toggleProcessingEvent,a.proxy(this.eating,this));this.options.atBottom&&this.atBottom(this.options.atBottom);this.options.atLimit&&this.atLimit(this.options.atLimit)};b.fn.atBottom=function(b){if(b)this.$el.bind(this.options.triggerEvent,a.proxy(b,this));else this.eat();return this};b.fn.atLimit=function(b){b&&this.$el.bind(this.options.limitReachedEvent,a.proxy(b,this));return this};b.fn.loadMore=function(){this.$el.trigger(this.options.toggleProcessingEvent);this.takeAction()};b.fn.eat=function(a){this.$el.trigger(this.options.triggerEvent,a);this.$el.trigger(this.options.toggleProcessingEvent);return this};b.fn.bake=function(){this.options.beforeAjax&&this.options.beforeAjax(this.options.ajaxOptions);a.ajax(this.options.ajaxOptions);return this};b.fn.setAjaxOptions=function(b,c){if(!b)throw"ajaxOptions are required";b.success=a.proxy(this.eat,this);this.options.ajaxOptions=b;if(c)this.options.beforeAjax=c;this.takeAction=this.bake;return this};b.fn.eating=function(){this.canProcess=!this.canProcess;return this};b.fn.diet=function(){this.$el.unbind(this.options.uiEvent);this.$el.trigger(this.options.limitReachedEvent);return this};a.fn[c]=function(d){return this.each(function(){!a.data(this,"plugin_"+c)&&a.data(this,"plugin_"+c,new b(this,d))})};a.fn[i]=function(){return this.data("plugin_"+c)}})(window.jQuery,window,document)